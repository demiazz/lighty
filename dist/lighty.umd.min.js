/*! lighty v0.2.3 | https://github.com/demiazz/lighty | (c) Alexey Plutalov | MIT license */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.lighty=t.lighty||{})}(this,function(t){"use strict";function n(){var t=document.documentElement;return t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector}function e(t,n){return s.call(t,n)}function i(t,n){if(t.jquery)return t.filter(n).add(t.find(n)).toArray();var i;return t instanceof HTMLElement?i=[t]:t instanceof NodeList?i=[].slice.call(t):Array.isArray(t)?i=t:"string"==typeof t&&(i=[].slice.call(document.querySelectorAll(t))),i.reduce(function(t,i){return e(i,n)&&t.push(i),t.concat([].slice.call(i.querySelectorAll(n)))},[])}function r(t){void 0===t&&(t="default");var n=f[t];return n||(n=new c(t),f[t]=n),n}function o(t,n){return function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];return new a(t,n.apply(void 0,e))}}var s=n(),u=function(t,n,e,i){this.id=t,this.selector=n,this.proto=e,this.plugins=i};u.prototype.getInitializer=function(t){var n=this;void 0===t&&(t=document.body);var e=i(t,this.selector),r=e.reduce(function(t,e){return n.checkAndUpdateCache(e)&&t.push(n.createComponent(e)),t},[]);return function(){r.forEach(function(t){t.init&&t.init()})}},u.prototype.createComponent=function(t){var n=this,e=Object.keys(this.proto).reduce(function(t,e){return t[e]=n.proto[e],t},{});return this.transformComponent(e,t),e},u.prototype.checkAndUpdateCache=function(t){return(!t.ids||t.ids.indexOf(this.id)===-1)&&(t.ids=t.ids?t.ids.concat(this.id):[this.id],!0)},u.prototype.transformComponent=function(t,n){this.plugins.forEach(function(e){e.transform(t,n)})};var c=function(t){this.name=t,this.plugins=[],this.builders=[],this.isReady=!1,this.isRunning=!1};c.prototype.use=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return this.plugins=this.plugins.concat(this.normalize(t)),this},c.prototype.component=function(t,n){var e=this.builders.length,i=new u(e,t,n,this.plugins);if(this.builders.push(i),this.isRunning){var r=i.getInitializer();r()}return this},c.prototype.vitalize=function(t){this.builders.forEach(function(n){var e=n.getInitializer(t);e()})},c.prototype.run=function(){var t=this;return this.isReady=!0,"loading"!==document.readyState?this.start():document.addEventListener("DOMContentLoaded",function(){return t.start()}),this},c.prototype.start=function(){this.isRunning=!0,this.vitalize()},c.prototype.normalize=function(t){var n=this;return t.reduce(function(t,e){var i=Array.isArray(e)?e.map(function(t){return n.instantiatePlugin(t)}):n.instantiatePlugin(e);return t.concat(i)},[])},c.prototype.instantiatePlugin=function(t){return t instanceof Function?t():t};var a=function(t,n){this.name=t,this.transformer=n};a.prototype.transform=function(t,n){this.transformer(t,n)};var f={default:new c("default")},l=f.default;t.default=l,t.create=r,t.plugin=o,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=lighty.umd.min.js.map
